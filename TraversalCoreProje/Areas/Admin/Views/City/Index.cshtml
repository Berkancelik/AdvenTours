
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<script src="~//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<h2>Şehir Ülke İşlemleri</h2>
<br />
<button type="button" id="btngetlist" class="btn-outline-info">Şehir Listesi</button>
<button type="button" id="btnaddcity" class="btn-outline-info">Şehir Getir</button>
<button type="button" id="btngetlist" class="btn-outline-info">Şehir Ekle</button>
<button type="button" id="btngetlist" class="btn-outline-info">Şehir Sil</button>
<button type="button" id="btngetlist" class="btn-outline-info">Şehir Güncelle</button>
<br />

<div id="cityList">
    Buraya Şehir Listesi Gelecek
</div>

<script>
$("#btngetlist").click(function() {
    $.ajax({
        contentType: "application/json",
        dataType: "json",
        type: "get",
        url: "/Admin/City/CityList",
        success: function(func) {
            let w = jQuery.parseJSON(func);
            console.log(w);
            let tablehtml = "<table class=table table-bordered> <tr><th> Şehir ID</th><th> Şehir Adı</th><th> Şehir Ülke Adı</th></tr>";

            $.each(w, (index, value) => {
                tablehtml += `<tr><td>${value.Id}<td/> <tr><td>${value.Name}<td/><tr><td>${value.Country}<td/>z/tr>`
            });
            tablehtml += "</table>";
            $("#citylist").html(tablehtml);
        }
    });
})
</script>